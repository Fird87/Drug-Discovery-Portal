<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                >
                       
	<ui:define name="body">
	    
	    <h:messages globalOnly="true" styleClass="message"/>
	    
	    <rich:panel>
	        <f:facet name="header">Files Uploaded</f:facet>
	        
	        <div class="results">
	        
	            <h:outputText value="No files exists" rendered="#{empty attachmentList.resultList}"/>
	                   
	            <rich:dataTable id="attachmentList" 
	            			 var="attachment"
	                      	 value="#{attachmentList.resultList}" 
	                   		 rendered="#{not empty attachmentList.resultList}">
	                <rich:column>
	                    <f:facet name="header">File Name</f:facet>
	                    <s:link value="#{attachment.name}" view="/attachment.xhtml">
	                        <f:param name="attachmentId" value="#{attachment.id}" />
	                    </s:link>
	                </rich:column>
	                <rich:column>
	                    <f:facet name="header">Content Type</f:facet>
	                    #{attachment.contentType}
	                </rich:column>
	                <rich:column>
	                    <f:facet name="header">Size(bytes)</f:facet>
	                    #{attachment.size}
	                </rich:column>
	                <rich:column>
	                    <f:facet name="header">Action</f:facet>
	                    <s:link value="Download" action="#{downloadAttachment.download}">
		                    <f:param name="attachmentId" value="${attachment.id}" />
		                </s:link>
	                </rich:column>
	            </rich:dataTable>
	            
	        </div>
	        
	    </rich:panel>
	    
	    <div class="actionButtons">
	        <s:button id="done" 
	               value="Create attachment"
	                view="/attachment.xhtml"/>			  
	    </div>
	    
	</ui:define>

</ui:composition>